<!-- DASHBOARD HEADER -->
<div class="dashboard-header">

    <!-- LEFT -->
    <div class="header-left">
        <button mat-raised-button color="primary" (click)="openAddProductModal()">
            <mat-icon>add</mat-icon> Add Product
        </button>
    </div>

    <!-- CENTER -->
    <div class="header-center">
        <h1 class="page-title">Products</h1>
    </div>

    <!-- RIGHT -->
    <div class="header-right">
        <form [formGroup]="searchProductForm" class="search-form">
            <mat-form-field class="search-input" appearance="outline">
                <input matInput formControlName="title" placeholder="Enter product name" />
                <button mat-icon-button matSuffix color="primary">
                    <mat-icon>search</mat-icon>
                </button>
            </mat-form-field>
        </form>
    </div>

</div>

<!-- PRODUCTS -->
<div class="category-product-row" *ngIf="products.length">

    <mat-card class="product-card" *ngFor="let product of products">

        <div class="product-image">
            <img *ngIf="product.img; else noImg" [src]="imageSrc(product.img)" alt="{{ product.name }}">
            <ng-template #noImg>
                <div class="no-img">No Image</div>
            </ng-template>
        </div>

        <div class="product-details">
            <h2 class="product-name">{{ product.name }}</h2>

            <p class="product-description">
                {{ product.description || 'No description' }}
            </p>

            <mat-divider></mat-divider>

            <div class="product-info">
                <span class="info-label">Price:</span>
                <span class="info-value">â‚¹{{ product.unitPrice }}</span>
            </div>

            <mat-divider></mat-divider>

            <div class="actions">
                <button mat-raised-button color="accent" (click)="openUpdateProductModal(product.id)">
                    Update
                </button>

                <button mat-raised-button color="warn" (click)="deleteProduct(product.id)">
                    Delete
                </button>
            </div>
        </div>

    </mat-card>
</div>

<!-- EMPTY STATE -->
<div *ngIf="!products.length" class="empty-cart">
    No products available
</div>