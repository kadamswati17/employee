<div class="project-wrapper">
    <div class="project-card">

        <!-- HEADER -->
        <div class="header-top">
            <h2>Dashboard</h2>
        </div>

        <!-- FILTERS -->
        <div class="filters">

            <div class="date-field top-label">
                <label>From Date</label>
                <input type="date" [(ngModel)]="fromDate" (change)="applyFilters()" />
            </div>

            <div class="date-field top-label">
                <label>To Date</label>
                <input type="date" [(ngModel)]="toDate" (change)="applyFilters()" />
            </div>

            <!-- <select [(ngModel)]="status" (change)="applyFilters()">
                <option value="">All Status</option>
                <option value="OPEN">Open</option>
                <option value="IN_PROGRESS">In Progress</option>
                <option value="CLOSED">Closed</option>
                <option value="SUCCESS">Success</option>
                <option value="CANCELLED">Cancelled</option>
            </select> -->

            <!-- <select #exportSel (change)="exportData(exportSel.value)">
                <option value="">Export</option>
                <option value="pdf">PDF</option>
                <option value="excel">Excel</option>
            </select> -->

            <div class="custom-select">
                <div class="selected" (click)="toggleStatus()">
                    {{ status || 'All Status' }}
                </div>

                <ul *ngIf="showStatus">
                    <li (click)="selectStatus('')">All Status</li>
                    <li (click)="selectStatus('OPEN')">Open</li>
                    <li (click)="selectStatus('IN_PROGRESS')">In Progress</li>
                    <li (click)="selectStatus('CLOSED')">Closed</li>
                    <li (click)="selectStatus('SUCCESS')">Success</li>
                    <li (click)="selectStatus('CANCELLED')">Cancelled</li>
                </ul>
            </div>
            <div class="custom-select">
                <div class="selected" (click)="toggleExport()">
                    Export
                </div>

                <ul *ngIf="showExport">
                    <li (click)="exportData('pdf')">PDF</li>
                    <li (click)="exportData('excel')">Excel</li>
                </ul>
            </div>


            <button class="clear-btn" (click)="clear()">Clear</button>
        </div>

        <!-- DASHBOARD CARDS -->
        <div class="dashboard-cards">

            <div class="card open">
                <h2>{{ summary.OPEN.count }}</h2>
                <h4>OPEN</h4>

                <p>₹ {{ summary.OPEN.amount }}</p>
            </div>

            <div class="card progress">
                <h2>{{ summary.IN_PROGRESS.count }}</h2>
                <h4>IN PROGRESS</h4>

                <p>₹ {{ summary.IN_PROGRESS.amount }}</p>
            </div>

            <div class="card closed">
                <h2>{{ summary.CLOSED.count }}</h2>
                <h4>CLOSED</h4>

                <p>₹ {{ summary.CLOSED.amount }}</p>
            </div>

            <div class="card success">
                <h2>{{ summary.SUCCESS.count }}</h2>
                <h4>SUCCESS</h4>

                <p>₹ {{ summary.SUCCESS.amount }}</p>
            </div>

            <div class="card cancel">
                <h2>{{ summary.CANCELLED.count }}</h2>
                <h4>CANCELLED</h4>

                <p>₹ {{ summary.CANCELLED.amount }}</p>
            </div>

        </div>

        <!-- GRAND TOTAL -->
        <div class="total-summary">
            <span>Total Amount :</span>
            <strong> ₹ {{ grandTotalAmount }}</strong>
        </div>

        <hr class="custom-hr">


        <!-- ================= SALES TREND HEADER ================= -->
        <!-- ================= SALES TREND ================= -->
        <div class="charts-grid">

            <!-- CURRENT MONTH -->
            <div class="chart-card">
                <h3>Current Month Sales</h3>
                <canvas id="currentMonthChart"></canvas>
            </div>

            <!-- LAST MONTH -->
            <div class="chart-card">
                <h3>Last Month Sales</h3>
                <canvas id="lastMonthChart"></canvas>
            </div>

        </div>





    </div>
</div>